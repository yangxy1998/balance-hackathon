<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title></title>
    <!-- 引入 lib/echarts.custom.min.js -->
    <script src="http://echarts.baidu.com/dist/echarts.min.js"></script>
    <script src="data/base/test.js"></script>
    <script src="dist/data.js"></script>
    <script src="dist/bundle.js"></script>
    <script src='dist/jquery-3.0.0.min.js'></script>
    <script src="../layui/layui.all.js" charset="utf-8"></script>
    <link rel="stylesheet" type="text/css" href="../layui/css/layui.css">
    <style>
        .ant-btn-red {
    color: #fff;
    background-color: #FF5A44;
    border-color: #FF5A44;
    text-shadow: 0 -1px 0 rgba(0,0,0,0.12);
    -webkit-box-shadow: 0 2px 0 rgba(0,0,0,0.045);
    box-shadow: 0 2px 0 rgba(0,0,0,0.045);
}
    </style>
</head>
<body class="layui-layout-body">
    <script>
        //console.log("yes");
        let rawData=[];
        function execute(data) {
            console.log(data);
            var app = {};
            option = null;
            rawData = [];
            //console.log(data);
            for(var k = 0;k<5;++k) {
                var rows0 = [],rows1 = [];
                //rows2 = [];
                for (let i in data){
                    let keys = mapValues(data[i]);
                    var int_i = parseInt(i);
                    //console.log(i);
                    //console.log(int_i);
                    var minn = k*100;
                    var maxx = (k+1)*100;
                    for (let j in keys.values) {
                        var int_j = parseInt(j);
                        if(!(int_i>=minn+500*int_j && int_i<maxx+500*int_j))continue;

                        let raw = mapKeys(data[i]).values;
                        if(raw[j*5+k] === 1000){
                            console.log(i);
                            console.log(j);
                            console.log(j*5+k);
                            console.log(raw);
                        }
                        var temp = [];
                        temp.push(raw[j*5+k]);
                        temp.push(keys.values[j]);
                        //console.log(temp);
                        if(j === "0")rows0.push(temp);
                        if(j === "1")rows1.push(temp);
                        //if(j === "2")rows2.push(temp);
                    }
                }
                var lst = [];
                lst.push(rows0);
                lst.push(rows1);
                //lst.push(rows2);
                rawData.push(lst);
                console.log(rawData);
            }
            //return rawData;
            console.log(rawData);
        }
        JSONexecute('./data/tree/train_rate_data.json',execute);
    </script>
<div class="layui-layout layui-layout-admin">
    <div class="layui-header">


        <ul class="layui-nav">
            <li class="layui-nav-item">均衡教派   </a></li>
            <li class="layui-nav-item"><a href="charts.html">模拟数值</a></li>
            <li class="layui-nav-item"><a href="predictor.html">相关数值预测</a></li>
            <li class="layui-nav-item"><a href="heatmap.html">操作分析</a></li>
            <li class="layui-nav-item"><a href="testCharts.html">回归分析</a></li>
          </ul>
    
    </div>
    <div class="layui-side layui-bg-black">
        
          <ul class="layui-nav layui-nav-tree layui-inline" style="margin-right: 10px;" lay-filter="demo">
            <li class="layui-nav-item" onclick="show(rawData[1][0],rawData[1][1],'attack bace of A')" > 基础攻击</li>
            <li class="layui-nav-item" onclick="show(rawData[3][0],rawData[3][1],'most attack of A')">最大攻击</li>
            <li class="layui-nav-item" onclick="show(rawData[0][0],rawData[0][1],'hp of A')">生命数值</li>
            <li class="layui-nav-item" onclick="show(rawData[4][0],rawData[4][1],'slam rate of A')" >暴击概率</li>
            <li class="layui-nav-item" onclick="show(rawData[2][0],rawData[2][1],'attack rate of A')">命中率</li>
          </ul>
        </div>
        <div class="layui-body layui-bg-gray">
            <div id="main" style="width: 1200px;height:800px;"></div>
        </div>
</div>
    <script>

        function show(dataA,dataB,dataC,chartname){
        echarts.init(document.getElementById('main')).setOption({
            title : {
        text: 'A、B 玩家的胜率分布',
        //subtext: ''
    },
    grid: {
        left: '3%',
        right: '7%',
        bottom: '3%',
        containLabel: true
    },
    tooltip : {
        // trigger: 'axis',
        showDelay : 0,
        formatter : function (params) {
            if (params.value.length > 1) {
                return params.seriesName + ' :<br/>'
                chartname+ params.value[0] + 'rate:'
                + params.value[1] ;
            }
            else {
                return params.seriesName + ' :<br/>'
                + params.name + ' : '
                + params.value ;
            }
        },
        axisPointer:{
            show: true,
            type : 'cross',
            lineStyle: {
                type : 'dashed',
                width : 1
            }
        }
    },
    toolbox: {
        feature: {
            dataZoom: {},
            brush: {
                type: ['rect', 'polygon', 'clear']
            }
        }
    },
    brush: {
    },
    legend: {
        data: ['A','B'],
        left: 'center'
    },
    xAxis : [
        {
            type : 'value',
            scale:true,
            axisLabel : {
                formatter: '{value} '
            },
            splitLine: {
                show: false
            }
        }
    ],
    yAxis : [
        {
            type : 'value',
            scale:true,
            axisLabel : {
                formatter: '{value} '
            },
            splitLine: {
                show: false
            }
        }
    ],
    series : [
    {
            name:'A',
            type:'scatter',
            data:dataA,
            markArea: {
                silent: true,
                itemStyle: {
                    normal: {
                        color: 'transparent',
                        borderWidth: 1,
                        borderType: 'dashed'
                    }
                },
                data: [[{
                    name: 'A胜率分布区间',
                    xAxis: 'min',
                    yAxis: 'min'
                }, {
                    xAxis: 'max',
                    yAxis: 'max'
                }]]
            },
            markPoint : {
                data : [
                    {type : 'max', name: '最大值'},
                    {type : 'min', name: '最小值'}
                ]
            },
            markLine : {
                lineStyle: {
                    normal: {
                        type: 'solid'
                    }
                },
                data : [
                    {type : 'average', name: '平均值'},
                    { xAxis: 160 }
                ]
            }
        },
        {
            name:'B',
            type:'scatter',
            data:dataB,
            markArea: {
                silent: true,
                itemStyle: {
                    normal: {
                        color: 'transparent',
                        borderWidth: 1,
                        borderType: 'dashed'
                    }
                },
                data: [[{
                    name: 'B胜率分布区间',
                    xAxis: 'min',
                    yAxis: 'min'
                }, {
                    xAxis: 'max',
                    yAxis: 'max'
                }]]
            },
            markPoint : {
                data : [
                    {type : 'max', name: '最大值'},
                    {type : 'min', name: '最小值'}
                ]
            },
            markLine : {
                lineStyle: {
                    normal: {
                        type: 'solid'
                    }
                },
                data : [
                    {type : 'average', name: '平均值'},
                    { xAxis: 160 }
                ]
            }
        }
    ]
    });
}
    
    </script>
</body>
</html>